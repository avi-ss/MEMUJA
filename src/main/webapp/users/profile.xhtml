<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../WEB-INF/templates/layout.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="content">
        <h:head>
            <f:metadata>
                <f:viewParam name="id" required="true"
                             value="#{ ctrlUsuarios.usuario.usuario }"/>
                <f:viewAction action="#{ ctrlUsuarios.recupera() }"/>
            </f:metadata>
        </h:head>

        <main>
            <div class="container my-5">
                <div class="row justify-content-start">
                    <div class='col-md-2'>
                        <p:graphicImage width="100%" library="images" name="misc/test_profile.png"/>
                    </div>
                    <div class='col-md-6'>
                        <h5 class='mt-0'>
                            #{ctrlUsuarios.usuario.usuario}
                        </h5> 
                        <p class='text-justify'>
                            Ambitioni dedisse scripsisse iudicaretur. 
                            Cras mattis iudicium purus sit amet fermentum. 
                            Donec sed odio operae, eu vulputate felis rhoncus. 
                            Praeterea iter est quasdam res quas ex communi. 
                            At nos hinc posthac, sitientis piros Afros. 
                            Petierunt uti sibi concilium totius Galliae in 
                            diem certam indicere. Cras mattis iudicium purus sit 
                            amet fermentum.
                        </p>
                    </div>
                    <div class='col-md-4'>
                        <ul class="list-group">
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <p:graphicImage height="32" library="images" name="misc/test_post.JPG"/>
                                    Publicaciones
                                </div>
                                <span class="badge badge-dark">#{ctrlUsuarios.numMemes}</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <p:graphicImage height="32" library="images" name="misc/test_like.JPG"/>
                                    Likes
                                </div>
                                <span class="badge badge-dark">#{ctrlUsuarios.numLikes}</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <div>
                                    <p:graphicImage height="32" library="images" name="misc/test_comment.jpg"/>
                                    Comentarios
                                </div>
                                <span class="badge badge-dark">#{ctrlUsuarios.numComentarios}</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row justify-content-center">
                    <h2>Publicaciones</h2>
                </div>
                <hr/>
            </div>

            <div class='d-flex justify-content-around'> 
                <ui:repeat var="meme" value="#{ctrlUsuarios.memes}">
                    <h:link outcome="/memes/publication"> 
                        <h:graphicImage width="90%" value="#{ctrlMemes.imagesUrl}/#{meme.rutaImg}"/>
                        <f:param name="id" value="${meme.id}"/>
                    </h:link>
                    <div class="row justify-content-center">

                    </div>
                </ui:repeat>
            </div>
        </main>
    </ui:define>

</ui:composition>
